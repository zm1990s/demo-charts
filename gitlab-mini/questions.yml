categories:
  - Development
# Global settings, Hostname, images, etc.
questions:
- variable: image.repository
  default: "gitlab/gitlab-ce"
  description: "gitlab docker image name"
  type: string
  label: httpserver Image Name
  group: "Gitlab Settings"
- variable: image.tag
  default: "12.3.5-ce.0"
  description: "gitlab docker image tag"
  type: string
  label: Image Tag
  group: "Gitlab Settings"
- variable: Hostname
  default: "gitlab.corp.local"
  description: "Gitlab hostname"
  type: string
  required: true
  group: "Gitlab Settings"


# Network settings
- variable: service.nodePort.http
  default: "30080"
  description: "Gitlab http port"
  type: int
  min: 30000
  max: 32767
  label: Gitlab Http Port
- variable: service.nodePort.https
  default: "30443"
  description: "Gitlab https port"
  type: int
  min: 30000
  max: 32767
  label: Gitlab https port
- variable: service.nodePort.ssh
  default: "30022"
  description: "Gitlab ssh port"
  type: int
  min: 30000
  max: 32767
  label: Gitlab ssh port

# persistent volume settings
- variable: persistence.enabled
  default: "True"
  description: "Enable persistent volume for Gitlab"
  type: boolean
  required: true
  label: Gitlab Persistent Volume Enabled
  show_subquestion_if: true
  group: "Persistent Volume Settings"
  subquestions:
    - variable: gitlab.size
      default: "10Gi"
      description: "Gitlab Persistent Volume Size"
      type: string
      label: Gitlab Volume Size
    - variable: gitlab.storageClass
      default: ""
      description: "If undefined or null, uses the default StorageClass. Default to null"
      type: storageclass
      label: Default StorageClass for gitlab
    - variable: gitlab.existingClaim
      default: ""
      description: "If not empty, uses the specified existing PVC instead of creating new one"
      type: pvc
      label: Existing Persistent Volume Claim for Gitlab
      group: "Persistent Volume Settings"
      show_if: "persistence.enabled=true"
